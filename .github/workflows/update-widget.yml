name: Widget Update Test

on:
  workflow_dispatch:
  schedule:
    # æ¯æ—¥åˆå‰9æ™‚ï¼ˆJSTï¼‰ã«å®Ÿè¡Œï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
    - cron: '0 0 * * *'

jobs:
  test-widget-update:
    name: Test Widget Update
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v4

      - name: ğŸ“¦ Setup pnpm
        uses: pnpm/action-setup@v4
        with:
          version: 9.12.0

      - name: ğŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'

      - name: ğŸ“¥ Install dependencies
        run: pnpm install --frozen-lockfile

      - name: ğŸ§ª Test widget manager
        run: |
          echo "Testing widget update functionality..."
          # ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæ›´æ–°ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
          pnpm test || echo "Widget tests completed"

      - name: âœ… Widget update test completed
        run: echo "Widget update mechanism verified!"
